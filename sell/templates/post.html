<%inherit file="/dashboard/templates/index.html" />
<%!from datetime import datetime %>

<%block name="content">
	<div id="main-container">

		<%include file="/dashboard/templates/nav_stacked.html" />

		<div id="action-container">
			<h1>Post a new contract</h1>

			<form id="post-form" enctype="multipart/form-data" method="POST" action="" >

				${ form.errors }

				<div class="post-input current" data-block="title" data-next="complex">
					<label class="question">What is the title of this post?</label>
					<div class="input-container">
						${ form['title'].errors }
						${ form['title'] }
						<span class="label-float">Title</span>
					</div>
				</div>

				<div class="post-input" data-block="complex" data-next="address">
					<label class="question">What is the apartment complex?</label>
					<div class="input-container">
						${ form['complex'].errors }
						${ form['complex'] }
						<span class="label-float">Complex</span>
					</div>
				</div>

				<div class="post-input" data-block="address" data-next="description">
					<label class="question">What is the address?<br><sup>*For your own saftey we will not ask for exact apartment numbers</sup></label>

					<div class="input-container">
						${ form['address1'].errors }
						${ form['address1'] }
						<span class="label-float">Address 1</span>
					</div>
					<div class="input-container">
						${ form['address2'].errors }
						${ form['address2'] }
						<span class="label-float">Address 2 <sup>(optional)</sup></span>
					</div>
					<div class="input-container">
						${ form['city'].errors }
						${ form['city'] }
						<span class="label-float">City</span>
					</div>
					<div class="input-container left col-6">
						${ form['state'].errors }
						${ form['state'] }
					</div>
					<div class="input-container right col-6">
						${ form['zip'].errors }
						${ form['zip'] }
						<span class="label-float">Zip Code</span>
					</div>
				</div>

				<div class="post-input" data-block="description" data-next="price">
					<label class="question">What do you want people to know about your apartment? Be descriptive.</label>
					<div class="input-container">
						${ form['description'].errors }
						${ form['description'] }
						<span class="label-float">Description</span>
					</div>
				</div>

				<div class="post-input" data-block="price" data-next="costs">
					<label class="question">What is the price going to be?</label>
					<div class="input-container">
						${ form['price'].errors }
						${ form['price'] }
						<span class="label-float">Price</span>
					</div>
				</div>

				<div class="post-input" data-block="costs" data-next="bounty">
					<label class="question">Are there utilites to pay or a deposit?</label>
					<div class="input-container">
						${ form['utilities'].errors }
						${ form['utilities'] }
						<span class="label-float">Cost of Utilities</span>
					</div>
					<div class="input-container">
						${ form['deposit'].errors }
						${ form['deposit'] }
						<span class="label-float">Cost of Deposit</span>
					</div>
				</div>

				<div class="post-input" data-block="bounty" data-next="housing">
					<label class="question">Are you including any monetary incentives for buying your contract? If so, how much?<br><sup>*Any non-monetary incentives you can include in the description</sup></label>
					<div class="input-container">
						${ form['bounty'].errors }
						${ form['bounty'] }
						<span class="label-float">Bounty</span>
					</div>
				</div>

	        	<div class="post-input" data-block="housing" data-next="numbers">
	        		<label class="question">What type of housing is this?</label>
	        		<div class="input-container radio" style="text-align: left;">
	        			<table class="table">
	        				<tr>
			        			${ form['housing_type'].errors }
								%for value, text in form['housing_type'].field.choices:
		        					<td style="width: 50%;">
				        				<input value="${ value }" type='radio' name="housing_type" id="${ value }"
				        					%if form['housing_type'] == value:
				        						checked
				        					%endif
				        				/>
										<label for="${ value }">${ text }</label>
					        		</td>
			        			%endfor
			        		</tr>
	        				<tr>
			        			${ form['single_or_married'].errors }
			        			%for value, text in form['single_or_married'].field.choices:
		        					<td>
				        				<input value="${ value }" type='radio' name="single_or_married" id="${ value }"/>
										<label for="${ value }">${ text }</label>
					        		</td>
			        			%endfor
			        		</tr>
	        				<tr>
			        			${ form['male_or_female'].errors }
			         			%for value, text in form['male_or_female'].field.choices:
		        					<td class="male-or-female">
				        				<input value="${ value }" type='radio' name="male_or_female" id="${ value }"/>
										<label for="${ value }">${ text }</label>
					        		</td>
			        			%endfor
			        		</tr>
			        		<tr>
								<!-- TODO: Gray this out if 'married is selected.' -->
								${ form['bed_type'].errors }
								%for value, text in form['bed_type'].field.choices:
									<td class="bed-type" style="width: 50%;">
				        				<input value="${ value }" type='radio' name="bed_type" id="${ value }"/>
										<label for="${ value }">${ text }</label>
			        				</td>
			        			%endfor
		        			</tr>
		        		</table>
	        		</div>

          			## <label class="question">What is the bedroom type?</label>
					## <div class="input-container radio">
					## 	<table class="table" style="text-align: left;">
					## 		<tr>
					## 			<!-- TODO: Gray this out if 'married is selected.' -->
					## 			${ form['bed_type'].errors }
					## 			%for value, text in form['bed_type'].field.choices:
					## 				<td class="bed-type" style="width: 50%;">
				 ##        				<input value="${ value }" type='radio' name="bed_type" id="${ value }"/>
					## 					<label for="${ value }">${ text }</label>
			  ##       				</td>
			  ##       			%endfor
		   ##      			</tr>
		   ##      		</table>
					## </div>
				</div>

				<div class="post-input" data-block="numbers" data-next="amenities">
					<label class="question">How many bedrooms are there?</label>
					<div class="input-container">
						${ form['bed_number'].errors }
						${ form['bed_number'] }
						<span class="label-float">Number of bedrooms</span>
					</div>
					<label class="question">How about bathrooms?</label>
					<div class="input-container">
						${ form['bath_number'].errors }
						${ form['bath_number'] }
						<span class="label-float">Number of bathrooms</span>
					</div>
				</div>

				<div class="post-input" style="text-align:left;" data-block="amenities" data-next="contracts">
					<label class="question">Check all the cool things your apartment has</label>
					${ form['amenities'].errors }
		 			%for value, text in form['amenities'].field.choices:
	    				<input value="${ value }" type='checkbox' name="amenities" id="${ value }"/>
						<label for="${ value }">${ text }</label>
						<br>
	    			%endfor
				</div>

				<div class="post-input" data-block="contracts" data-next="leaving">
					<label class="question">Do you have any roommates selling contracts? If so, how many?</label>
					<div class="input-container">
						${ form['roommate_number'].errors }
						${ form['roommate_number'] }
						<span class="label-float">Number of contracts</span>
					</div>
				</div>

				<div class="post-input" data-block="leaving" data-next="availability">
					<label class="question">Why are you leaving your contract?</label>
					<div class="input-container">
						${ form['leaving'].errors }
						${ form['leaving'] }
						<span class="label-float">Reason for leaving</span>
					</div>
				</div>

				<div class="post-input" data-block="availability" data-next="images">
					<label class="question">When will your unit be available?</label>
					<div class="input-container">
						${ form['availability'].errors }
						${ form['availability'] }
						<span class="label-float">Availability</span>
					</div>
				</div>

				<div class="post-input" data-block="images">
					<label class="question">Do you have some pictures?</label>
					<div class="input-container">
						<input type="file" name="myfiles" multiple />

						## <input type="submit" value="Post" />
						<br><br><br>
						<input type="submit" class="btn btn-success" value="Submit" />
						<input type='hidden' name='csrfmiddlewaretoken' value='${ csrf_token }' />
					</div>
				</div>

			</form>
			## <button class="btn btn-default prev">&#10094; Go back</button>
			## <button class="btn btn-success next">Move on</button>
		</div>

		<footer>
            Copyright &copy; ${ datetime.now().year } Candor Contracts
        </footer>

	</div>
</%block>

<%block name="footer">
	<div></div>
</%block>
